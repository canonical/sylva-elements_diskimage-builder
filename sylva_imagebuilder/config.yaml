options:
- name: lvm
  kind: flag
- name: growpart
  kind: flag
- name: cis_remediation
  kind: flag
- name: rke2_airgapped
  kind: flag
- name: kubeadm
  kind: flag

recipes:
- when:
  - target=ubuntu
  - lvm
  elements:
  - block-device-kanod-lvm
- when:
  - target=ubuntu
  - cis_remediation
  packages:
  - git
  elements:
  - cis-remediation
- when:
  - target=ubuntu
  - release=jammy
  packages:
  - vim
  - iputils-ping
  - rsyslog
  - nfs-common
  - iptables
- when:
  - target=ubuntu
  - growpart
  elements:
  - cloud-init-growpart
- when:
  - target=ubuntu
  - rke2_airgapped
  elements:
  - rke2-airgapped
- when:
  - target=ubuntu
  - kubeadm
  elements:
  - kubeadm
- when:
  - target=opensuse
  - rke2_airgapped
  elements:
  - rke2-airgapped
